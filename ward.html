<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ward Details - Delhi Water-Logging System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <span class="nav-logo">üíß</span>
                <h2>Delhi Water-Logging System</h2>
            </div>
            <div class="nav-content">
                <div class="nav-links">
                    <a href="index.html">Home</a>
                    <a href="map.html">Map View</a>
                    <a href="authority.html">Dashboard</a>
                </div>
                <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle">
                    <span class="icon" id="theme-icon">üåô</span>
                    <span id="theme-text">Dark</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Back Navigation -->
    <section class="back-section">
        <div class="container">
            <a href="map.html" class="back-button">
                <span>‚Üê</span>
                <span>Back to Map</span>
            </a>
        </div>
    </section>

    <!-- Ward Header -->
    <section class="ward-header">
        <div class="container">
            <h1 id="ward-name">Loading Ward...</h1>
            <div class="risk-badge-large" id="risk-badge">Loading...</div>
        </div>
    </section>

    <!-- Ward Key Metrics -->
    <section class="ward-details-section">
        <div class="container">
            <div class="details-grid">
                <!-- Risk Score Card -->
                <div class="detail-card">
                    <h3>Flood Risk Score</h3>
                    <div class="risk-score-display">
                        <div class="score-number" id="risk-score">--</div>
                        <div class="score-label">out of 100</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="risk-progress"></div>
                    </div>
                </div>

                <!-- Rainfall Info -->
                <div class="detail-card">
                    <h3>üíß Rainfall Intensity</h3>
                    <div class="metric-value" id="rainfall">-- mm</div>
                    <div class="metric-label" id="rainfall-level">--</div>
                </div>

                <!-- Drainage Condition -->
                <div class="detail-card">
                    <h3>üö∞ Drainage Status</h3>
                    <div class="metric-value" id="drainage-score">--</div>
                    <div class="metric-label" id="drainage-status">--</div>
                </div>

                <!-- Past Incidents -->
                <div class="detail-card">
                    <h3>üìã Historical Data</h3>
                    <div class="metric-value" id="incidents">--</div>
                    <div class="metric-label">Water-logging events (2026)</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Historical Incidents -->
    <section class="incidents-section">
        <div class="container">
            <h2>Recent Water-Logging Incidents</h2>
            <div class="incidents-list" id="incidents-list">
                <!-- Generated dynamically -->
            </div>
        </div>
    </section>

    <!-- AI Prediction -->
    <section class="prediction-section">
        <div class="container">
            <h2>üîÆ Flood Risk Prediction</h2>
            <div class="prediction-card">
                <div class="prediction-header">
                    <h3>Risk Assessment Analysis</h3>
                </div>
                <div class="prediction-logic" id="prediction-logic">
                    <!-- Generated dynamically -->
                </div>
                
                <!-- Response Timeline -->
                <div class="timeline">
                    <h3>Emergency Response Timeline</h3>
                    <div class="timeline-items">
                        <div class="timeline-item">
                            <div class="timeline-marker before">üìÖ</div>
                            <div class="timeline-content">
                                <h4>Before Rain</h4>
                                <ul id="before-rain-actions">
                                    <!-- Generated dynamically -->
                                </ul>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker during">‚ö°</div>
                            <div class="timeline-content">
                                <h4>During Rain</h4>
                                <ul id="during-rain-actions">
                                    <!-- Generated dynamically -->
                                </ul>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker after">‚úÖ</div>
                            <div class="timeline-content">
                                <h4>After Rain</h4>
                                <ul id="after-rain-actions">
                                    <!-- Generated dynamically -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Actionable Recommendations -->
    <section class="recommendations-section">
        <div class="container">
            <h2>‚úÖ Recommended Actions</h2>
            <div class="recommendations-grid" id="recommendations">
                <!-- Generated dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2026 Delhi Water-Logging Monitoring System</p>
        </div>
    </footer>

    <!-- Load Data and Scripts -->
    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        // Load ward details when page loads
        window.addEventListener('DOMContentLoaded', function() {
            initializeTheme();
            loadWardDetails();
        });
    </script>
</body>
</html>